/* =========================
   Site look & feel
   ========================= */

/* Minimal polish with BU-red accent */
:root { --bs-primary: #cc0000; }
a { text-decoration: none; }
.navbar-brand { font-weight: 700; }

/* =========================
   Publications numbering
   ========================= */
#journal-refs, #conf-refs, #preprint-refs { counter-reset: refnum; }

#journal-refs .csl-entry,
#conf-refs .csl-entry,
#preprint-refs .csl-entry {
  counter-increment: refnum;
  position: relative;
  padding-left: 2em;        /* space for the number */
}

#journal-refs .csl-entry::before,
#conf-refs .csl-entry::before,
#preprint-refs .csl-entry::before {
  content: counter(refnum) ".";
  position: absolute;
  left: 0;
  top: 0;
}

/* =========================
   About (trestles) 25% / 75%
   =========================
   Force the profile/photo column to 25% and the content column to 75%
   on large screens. Works for both CSS-grid (.grid/g-col-*) and
   Bootstrap flex (.row/col-lg-*) variants used by trestles.
*/
@media (min-width: 992px) {

  /* Case 1: trestles grid layout */
  .quarto-about-trestles .grid {
    display: grid !important;
    grid-template-columns: 25% 75% !important;
    gap: 1.25rem;
    align-items: start;
  }
  .quarto-about-trestles .grid > *:first-child { grid-column: 1 !important; }
  .quarto-about-trestles .grid > *:nth-child(2) { grid-column: 2 !important; }

  /* Case 2: explicit g-col sizes */
  .quarto-about-trestles [class*="g-col-lg-"]:first-child  { grid-column: span 3 !important; } /* 3/12 */
  .quarto-about-trestles [class*="g-col-lg-"]:nth-child(2) { grid-column: span 9 !important; } /* 9/12 */

  /* Case 3: Bootstrap flex fallback */
  .quarto-about-trestles .row > *:first-child { flex: 0 0 25% !important; max-width: 25% !important; }
  .quarto-about-trestles .row > *:nth-child(2) { flex: 0 0 75% !important; max-width: 75% !important; }

  /* Image scaling inside the narrower column */
  .quarto-about-trestles img { max-width: 100%; height: auto; }
}

/* ===== Optional: if you still see small icons on the right of the navbar, hide them
   (remove this if you decide to keep navbar tools) */
.navbar .quarto-navbar-tools { display: none !important; }


/* ===== Force trestles About to 25% (photo) | 75% (content) ===== */
/* Covers grid + flex layouts at lg and xl breakpoints */
@media (min-width: 992px) {
  /* Named wrappers used by trestles (most reliable) */
  .quarto-about-trestles .about-sidebar {
    flex: 0 0 25% !important; max-width: 25% !important;
    grid-column: span 3 !important;
  }
  .quarto-about-trestles .about-main {
    flex: 0 0 75% !important; max-width: 75% !important;
    grid-column: span 9 !important;
  }

  /* Bootstrap flex fallback (lg) */
  .quarto-about-trestles .row > *:first-child { flex: 0 0 25% !important; max-width: 25% !important; }
  .quarto-about-trestles .row > *:nth-child(2) { flex: 0 0 75% !important; max-width: 75% !important; }

  /* CSS grid utility fallback (lg) */
  .quarto-about-trestles .grid > *:first-child  { grid-column: span 3 !important; }
  .quarto-about-trestles .grid > *:nth-child(2) { grid-column: span 9 !important; }
}

/* XL breakpoint too (some builds switch to col-xl-* / g-col-xl-*) */
@media (min-width: 1200px) {
  /* Bootstrap flex */
  .quarto-about-trestles .col-xl-4 { flex: 0 0 25% !important; max-width: 25% !important; }
  .quarto-about-trestles .col-xl-8 { flex: 0 0 75% !important; max-width: 75% !important; }

  /* CSS grid utilities */
  .quarto-about-trestles [class*="g-col-xl-"]:first-child  { grid-column: span 3 !important; }
  .quarto-about-trestles [class*="g-col-xl-"]:nth-child(2) { grid-column: span 9 !important; }
}

/* Image behavior inside the narrower column */
.quarto-about-trestles img { max-width: 100%; height: auto; }

/* If top-right mini icon group still appears, hide it */
.navbar .quarto-navbar-tools { display: none !important; }

