/* Minimal polish with BU-red accent */
:root { --bs-primary: #cc0000; }
a { text-decoration: none; }
.navbar-brand { font-weight: 700; }


/* Number bibliography entries per section */
#journal-refs, #conf-refs, #preprint-refs { counter-reset: refnum; }

#journal-refs .csl-entry,
#conf-refs .csl-entry,
#preprint-refs .csl-entry {
  counter-increment: refnum;
  position: relative;
  padding-left: 2em;        /* space for the number */
}

#journal-refs .csl-entry::before,
#conf-refs .csl-entry::before,
#preprint-refs .csl-entry::before {
  content: counter(refnum) ".";
  position: absolute;
  left: 0;
  top: 0;
}

/* --- About page: 25% (photo) / 75% (content) on desktop --- */
@media (min-width: 992px) { /* lg and up */
  /* First column = photo/left card */
  .about .row > [class*="col-"]:first-child {
    flex: 0 0 25% !important;
    max-width: 25% !important;
  }
  /* Second column = text, selected papers, news */
  .about .row > [class*="col-"]:last-child {
    flex: 0 0 75% !important;
    max-width: 75% !important;
  }
}

/* Make sure the image scales nicely inside the narrower column */
.about img {
  max-width: 100%;
  height: auto;
}

/* --- Trestles about page: force 25% | 75% split on desktop --- */
@media (min-width: 992px) {
  /* trestles puts a marker class on the page */
  .quarto-about-trestles {

    /* When trestles uses the CSS grid utility classes */
    .g-col-lg-4 { grid-column: span 3 !important; }   /* 3/12 = 25%  */
    .g-col-lg-8 { grid-column: span 9 !important; }   /* 9/12 = 75%  */

    /* When trestles falls back to Bootstrap flex columns */
    .col-lg-4 { flex: 0 0 25% !important; max-width: 25% !important; }
    .col-lg-8 { flex: 0 0 75% !important; max-width: 75% !important; }

    /* Safety: if a plain .about grid is used, set 2 columns */
    .about .grid { grid-template-columns: 25% 75% !important; }
    .about .grid > *:first-child { grid-column: 1 !important; }
    .about .grid > *:last-child  { grid-column: 2 !important; }
  }

  /* Keep the image behaving inside the narrower column */
  .quarto-about-trestles img { max-width: 100%; height: auto; }
}
